<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Reinicio de contraseña</title>
</h:head>

	<h:outputStylesheet library="css" name="login.css" />
	<h:body>
		<div align="center">
		<p:graphicImage library="imagenes" name="logo.png" width="120"  />
		<h3>Datos</h3>
		
		<h4>Ingrese su nombre de usuario, tiene que ser un usuario válido en el sistema. Este mail se enviará a mesa de ayuda para reiniciar su contraseña</h4>
		<h4>Proporcione un mail de contacto así podremos contactarnos con usted.</h4>
		<h:form>
		<!--  <p:messages autoUpdate="true" />		-->		

			<h:panelGrid columns="1" >
				<h:outputStylesheet library="css" name="login.css" />
			<p:growl autoUpdate="true" showDetail="true"/>
				
				
				<p:outputLabel for="nombreUsuario" value="Nombre de usuario" />
				<p:inputText id="nombreUsuario" value="#{mailBean.nombreUsuario}"
					required="true"
					requiredMessage="Este campo es obligatorio"
					validatorMessage="el nombre de usuario debe ser: nombre.apellido">					
					<f:validateRegex pattern="^[a-zA-Z]+[.][a-zA-Z]+$">
					</f:validateRegex>				
				</p:inputText>
				
				
							
				<p:outputLabel for="Correo" value="Correo electrónico" />
				<p:inputText id="Correo" value="#{mailBean.correo}" required="true"
					requiredMessage="Este campo es obligatorio: Correo Electrónico" 
					maxlength="50"
					validatorMessage="El formato del mail ingresado es incorrecto">
					<f:validateRegex
						pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$"></f:validateRegex>
					</p:inputText>
					

				

				<p:commandButton id="btnResetPassword" icon="ui-icon-key" ajax="true" value="Solicitar reinicio de contraseña"
					actionListener="#{mailBean.enviarEmail()}"></p:commandButton>
					
					<p:separator/>
						
				<p:button id="btnVolver" value="Volver atrás" outcome="login" ></p:button>
			</h:panelGrid>			
			

		</h:form>
		</div>
	</h:body>
</html>
